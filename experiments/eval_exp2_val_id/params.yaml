run_name: "eval_exp3_val_id"
seed: 42 # for seq 4

distributed:
  cuda_visible_devices: "0"
  nproc_per_node: 1
  master_port: 29512

log:
  wandb_project: "test_name"
  batch_log_interval: 1

sampling:
  num_paraphrase_from_facts_to_learn: 1
  num_paraphrase_from_facts_to_refuse: 2
  num_true_output_neighbor_from_facts_to_learn: 1
  num_true_output_neighbor_from_facts_to_refuse: 1
  num_paraphrase_from_other_facts: 1
  num_true_output_neighbor_from_other_facts: 0
  max_total_io_pairs_per_sample: 2
  num_io_pairs_to_chunk: 2
  max_new_tokens: 1

loop:
  completions_batch_sample_count: 1
  sequence_length: 1
  unlearning: false

data:
  val_ood_datasets:
    - "../../data/counterfact_gnm/data/val/test_seen_categories.json"
  val_limit: null
  # -------------------------------------------------
  # -------------------------------------------------
  # Experiment 2 ID
  # ---
  eligible_target_types_val_ood:
    - "fact_subcategories"
    - "formats"
    - "refusal_subcategories"
  holdout_targets_val_ood:
    - "xml"
    - "continents"
    - "science_academia_law_medicine_related_occupation"
    - "northern_central_european_languages"
    - "religion"
    - "continents_refusal"
    - "northern_central_european_languages_refusal"
    - "science_academia_law_medicine_related_occupation_refusal"
    - "religion_refusal"
  holdout_target_values_val_ood:
    - "json_response"
    - "json_message"
    - "json_string"
    - "json_chat"
    - "json_reply"
    - "json_answer"
    - "json_body"
    - "json_payload"
    - "json_data"
    - "json_output"
    - "yaml_response"
    - "yaml_message"
    - "yaml_string"
    - "yaml_chat"
    - "yaml_reply"
    - "yaml_answer"
    - "yaml_body"
    - "yaml_payload"
    - "yaml_data"
    - "yaml_output"
    - "toml_response"
    - "toml_message"
    - "toml_string"
    - "toml_chat"
    - "toml_reply"
    - "toml_answer"
    - "toml_body"
    - "toml_payload"
    - "toml_data"
    - "toml_output"
    - "csv_response"
    - "csv_message"
    - "csv_string"
    - "csv_chat"
    - "csv_reply"
    - "csv_answer"
    - "csv_body"
    - "csv_payload"
    - "csv_data"
    - "csv_output"
  
evals:
  - model: memoryllm_chat
    run_key: gnm
    pretty_name: "GNM"
    model_state_dict_path: "../../models/gnm_all/model.pth"
  - model: llama3_8b_instruct_rag
    run_key: rag_trained
    pretty_name: "Llama3 RAG Trained"
    model_state_dict_path: "../../models/rag_all/model.pth"
  - model: llama3_8b_instruct_rag
    run_key: rag_untrained
    pretty_name: "Llama3 RAG Untrained"
    model_state_dict_path: null
  - model: memoryllm_chat_no_memory
    run_key: naive_model
    pretty_name: "Naive Model"
    model_state_dict_path: null
  - model: llama3_8b_instruct
    run_key: llama3_ft
    pretty_name: "Finetuned Llama3"
    model_state_dict_path: "../../models/icl_all/model.pth"
  - model: llama3_8b_instruct
    run_key: llama3
    pretty_name: "Llama3"
    model_state_dict_path: null
  - model: memoryllm_chat
    run_key: memoryllm
    pretty_name: "MemoryLLM"
    model_state_dict_path: null